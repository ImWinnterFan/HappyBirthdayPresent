:root{
  font-size:40vmin;
}
/*全体*/
body{
  display:flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  font-family: 'Pacifico', cursive;
  color: #111;
  background-image: radial-gradient(#FFFACD, #FFFACD);
  text-align: center;
  perspective: 6.5rem;
  user-select: none;
  overflow: hidden;
}

/*箱全体*/
.Birthdaybox{
   transform-style: preserve-3d;
   transition: transform 0.3s ease;
  /*transform: rotateX(-25deg) rotateY(-25deg);*/
  
--boxInnerText: '';
    position: relative;
    width: 1rem;
    height: 1rem;
    transform-style: preserve-3d;
    
}
/*面の設定（前も）*/
.box{
    box-sizing: border-box;
    position: absolute;
    width: 100%;
    height: 100%;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    transform-style: preserve-3d;
    border: 0.01rem solid rgba(60, 40, 60, 0.65);
    background:#F8F9FA;
    transform: rotateY(0deg) translateZ(0.5rem);
}
/*リボンの設定*/
.ribbon{
  
  position:absolute;
  background:repeating-linear-gradient(
    45deg,
    #ff1111,
    #FF69B4 5px,
    #f1faee 5px,
    #f1faee 5px
  );
  z-index:2;
  transform: rotateX(-25deg) rotateY(-25deg);
}

/*リボン縦(前も)*/
.ribbon.vertical{
  width: 0.2rem;
  height: 1rem;
  weight:50%;
  transform: translateZ(0.5rem) translateX(0.4rem);
 }
/*リボン横(前も)*/
.ribbon.horizontal{
  width: 1rem;
  height: 0.2rem;
  weight:50%;
  transform: translateZ(0.5rem) translateY(0.4rem);
}

/*リボン右*/
.box-side-right+.vertical{
  width: 0.2rem;
  height: 1rem;
  transform: rotateY(90deg) translateZ(0.9rem);
}
.box-side-right~.horizontal{
  width: 1rem;
  height: 0.2rem;
  transform:rotateY(90deg) translateZ(0.5rem) translateY(0.4rem);
}

/*リボン左*/
.box-side-left+.vertical{
  width: 0.2rem;
  height: 1rem;
  transform: rotateY(90deg) translateZ(-0.1rem);
}
.box-side-left~.horizontal{
  width: 1rem;
  height: 0.2rem;
  transform:rotateY(90deg) translateZ(-0.5rem) translateY(0.4rem);
}

/*リボン裏*/
.box-side-back+.vertical{
  width: 0.2rem;
  height: 1rem;
  transform: translateZ(-0.5rem) translateX(0.4rem);
}
.box-side-back~.horizontal{
  width: 1rem;
  height: 0.2rem;
  transform:translateZ(-0.5rem) translateY(0.4rem);
}
/*面 上*/
.box-side-top::before,
.box-side-top::after{
  position:absolute;
  transform-style:preserve-3d;
  backface-visibility:hidden;
}
.box-side-top::before{
  content:"OPEN ME";
  font-size:0.3rem;
  back-ground:#ffffff;
}
.box-side-top::after {
    content:"お誕生日おめでとう🎉";
    font-size: 0.08rem;
    transform: rotateY(180deg) rotateZ(180deg) translateZ(0.00001rem);
}

.box-side-top{
  width:100%;
  height:100%;
  transform:rotateX(90deg)translateZ(0.5rem);
}
/*面 裏*/
.box-side-back{
  width: 100%;
  height: 100%;
  transform: rotateY(180deg) translateZ(0.5rem);
}
/*面 左*/
.box-side-left{
  width:100%;
  height:100%;
  transform:rotateY(-90deg)translateZ(0.5rem);
}
/*面 下*/
.box-side-bottom{
  width:100%;
  height:100%;
  transform:rotateX(90deg)translateZ(-0.5rem);
  }
/*面 右*/
.box-side-right{
  width:100%;
  height:100%;
  transform:rotateY(90deg)translateZ(0.5rem);
}

.emoji {
    position: absolute;
    font-size: 0.6rem;
    transform: translate(calc(0.5rem - 50%), 0.5rem);
}

.or-text {
    font-size: 0.2rem;
    margin: 0.2em 0;
}

/* Open Box States */

.box-open .box-side {
    cursor: auto;
}

.box-open .box-side-top {
    animation: openBox 1.2s ease-out forwards;
}

.box-open .emoji {
    animation: raiseEmoji 1s 1s ease-out forwards,
               rotateEmoji 3s 2s linear infinite;
}

/* Animations */

@keyframes openBox {
    100% {
        transform:translateY(-0.68rem)
          translateZ(-0.97rem)rotateX(250deg);
    }
}

@keyframes raiseEmoji {
    100% {
        transform: translate(calc(0.5rem - 50%), -0.7rem);
    }
}

@keyframes rotateEmoji {
    0% {
        transform: translate(calc(0.5rem - 50%), -0.7rem) rotateY(0deg);
    }
    100% {
        transform: translate(calc(0.5rem - 50%), -0.7rem) rotateY(360deg);
    }
  
}